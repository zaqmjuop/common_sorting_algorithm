parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"fRxd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(e){return"string"==typeof e},n=function(e){return!(!e||!r(e))},o=function(e){if(!n(e))throw new TypeError("参数classes不能为 "+e);return e.replace(/\s+/g," ").replace(/^\s/,"").replace(/\s$/,"").split(" ")},i=0,a=function(){function r(e){if(t(this,r),!e)throw new TypeError("new Dom参数不能为"+e);if(e instanceof r)this.dom=e.dom;else if(e instanceof HTMLElement)this.dom=e;else if(n(e)){var o=e.match(/^<(.+)>$/);this.dom=o?document.createElement(o[1]):document.querySelector(e)}return this}return e(r,[{key:"attr",value:function(e,t){if(!n(e))throw new TypeError("参数key不能为 "+e);var r=this;return arguments.length>1&&(e.toLocaleLowerCase().match(/^text$/)?this.dom.innerText=String(t):e.toLocaleLowerCase().match(/^html$/)?this.dom.innerHTML=String(t):"INPUT"===this.dom.tagName&&"value"===e?this.dom.value=String(t):this.dom.setAttribute(e,t)),arguments.length<=1&&(r=e.toLocaleLowerCase().match(/^text$/)?this.dom.innerText:e.toLocaleLowerCase().match(/^html$/)?this.dom.innerHTML:"INPUT"===this.dom.tagName&&"value"===e?this.dom.value:this.dom.getAttribute(e)),r}},{key:"addClass",value:function(e){var t=this;return o(e).forEach(function(e){t.dom.classList.contains(e)||t.dom.classList.add(e)}),this}},{key:"removeClass",value:function(e){var t=this;return o(e).forEach(function(e){t.dom.classList.contains(e)&&t.dom.classList.remove(e)}),this}},{key:"hasClass",value:function(e){var t=this,r=o(e),n=!0;return r.forEach(function(e){t.dom.classList.contains(e)||(n=!1)}),n}},{key:"toggleClass",value:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e),this}},{key:"append",value:function(e){var t=this;return(n(e)?document.querySelectorAll(e):[r.degenerate(e)]).forEach(function(e){t.dom.appendChild(e)}),this}},{key:"appendAccurate",value:function(e,t){if(!Number.isSafeInteger(t))throw new TypeError(t+"不是整数");var n=r.of(e);if(t<0||t>this.dom.childElementCount||0===this.dom.childElementCount)this.dom.appendChild(n.dom);else{var o=this.dom.children[t];n.insertBefore(o)}return this}},{key:"replace",value:function(e){if(!r.isElement(e))throw new TypeError(e+"不是HTMLElement");var t=this.dom.parentElement;return t&&t.replaceChild(e,this.dom),e}},{key:"insertBefore",value:function(e){if(!r.isElement(e))throw new TypeError(e+"不是HTMLElement");var t=e.parentElement;return t&&t.insertBefore(this.dom,e),e}},{key:"insertAfter",value:function(e){if(!r.isElement(e))throw new TypeError(e+"不是HTMLElement");var t=e.parentElement;if(t){var n=e.nextElementSibling;n?t.insertBefore(this.dom,n):t.appendChild(this.dom)}return e}},{key:"selfDestruct",value:function(){if(!this.dom)return!1;var e=this.dom.parentElement;return!!e&&(e.removeChild(this.dom),this)}},{key:"remove",value:function(e){var t=this;return 0===arguments.length?this.selfDestruct():((n(e)?this.dom.querySelectorAll(e):[r.degenerate(e)]).forEach(function(e){t.dom.removeChild(e)}),this)}},{key:"text",value:function(e){var t=void 0;return void 0!==e?(this.dom.innerText=String(e),t=this):t=this.dom.innerText,t}},{key:"html",value:function(e){var t=void 0;return void 0!==e?(this.dom.innerHTML=String(e),t=this):t=this.dom.innerHTML,t}},{key:"child",value:function(e){return n(e)?this.dom.querySelector(e):r.degenerate(e)}},{key:"children",value:function(e){var t=void 0;if(void 0===e)t=this.dom.children();else{if(!n(e))throw new TypeError("selector不能为"+e);t=this.dom.querySelectorAll(e)}return t}},{key:"parent",value:function(e){return r.getParent(this.dom,e)}},{key:"parents",value:function(e){return r.getParents(this.dom,e)}},{key:"hasParent",value:function(e){return r.hasParent(this.dom,e)}},{key:"on",value:function(e,t){if(!n(e))throw new TypeError("event不能是"+e);if("function"!=typeof t)throw new TypeError("callback不能是"+t);return this.dom.addEventListener(e,t),this}},{key:"off",value:function(e,t){if(!n(e))throw new TypeError("event不能是"+e);if("function"!=typeof t)throw new TypeError("callback不能是"+t);return this.dom.removeEventListener(e,t),this}},{key:"clear",value:function(e){if(!n(e))throw new TypeError("event不能是"+e);return this.dom["on"+e]=void 0,this}},{key:"hasChild",value:function(e){return r.hasChild(this.dom,e)}},{key:"getIndex",value:function(){var e=this.dom.parentElement;return e?Array.from(e.children).indexOf(this.dom):-1}},{key:"css",value:function(e,t){if(arguments.length>0&&"string"!=typeof e)throw new TypeError("Dom.css property 不能是"+e);if(arguments.length>1&&"string"!=typeof t)throw new TypeError("Dom.css value 不能是"+t);var r=void 0;return 0===arguments.length?r=window.getComputedStyle(this.dom):1===arguments.length?r=window.getComputedStyle(this.dom)[e]:(this.dom.style[e]=t,r=this),r}}],[{key:"all",value:function(e){return document.querySelectorAll(e)}},{key:"of",value:function(e){return new r(e)}},{key:"degenerate",value:function(e){var t=void 0;if(e instanceof r)t=e.dom;else if(e instanceof HTMLElement)t=e;else{if(!n(e))throw new TypeError("参数query不能是"+e);t=document.querySelector(e)}return t}},{key:"isElement",value:function(e){return e&&e instanceof HTMLElement&&1===e.nodeType}},{key:"getParentsTree",value:function(e){if(!r.isElement(e))throw new TypeError("element不能是"+e);for(var t=[],n=e;n.parentElement;)n=n.parentElement,t.push(n);return t}},{key:"getParent",value:function(e,t){if(!r.isElement(e))throw new TypeError("element不能是"+e);var o=void 0,i=r.getParentsTree(e),a=document.querySelectorAll(t);if(void 0===t)o=e.parentElement;else{var s=void 0;if(n(t))s=i;else if(t instanceof r)s=[t.dom];else{if(!(t instanceof HTMLElement))throw new TypeError("query不能是"+t);s=[t]}s.forEach(function(e){a.forEach(function(t){t.isSameNode(e)&&(o=e)})})}return o}},{key:"hasChild",value:function(e,t){if(!r.isElement(e))throw new TypeError("element不能是"+e);var o=void 0,i=function t(n){if(!r.isElement(n))return!1;var o=n.parentElement;return!!e.isSameNode(o)||t(o)};if(n(t))o=!!e.querySelector(t);else if(t instanceof HTMLElement)o=i(t);else{if(!(t instanceof r))throw new TypeError("query不能是"+t);o=i(t.dom)}return o}},{key:"getParents",value:function(e,t){if(!r.isElement(e))throw new TypeError("element不能是"+e);var o=void 0,i=r.getParentsTree(e),a=document.querySelectorAll(t);if(void 0===t)o=i;else{if(o=[],!n(t))throw new TypeError("query不能是"+t);i.forEach(function(e){a.forEach(function(t){t.isSameNode(e)&&o.push(e)})})}return o}},{key:"hasParent",value:function(e,t){if(!r.isElement(e))throw new TypeError("element不能是"+e);if(arguments.length<2)throw new Error("缺少参数");var n=!1,o=r.getParentsTree(e);if(o.length<1)return!1;var i=r.isElement(t)?t:r.of(String(t));return o.find(function(e){return e.isSameNode(i)})&&(n=!0),n}},{key:"globalInit",value:function(){return!i&&(i+=1,HTMLCollection.prototype.forEach=Array.prototype.forEach,i)}}]),r}();a.globalInit(),exports.default=a;
},{}],"UXHO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=[31,28,31,30,31,30,31,31,30,31,30,31],n=function(e){return Number.isInteger(e)&&e>1900&&e<5001},a=function(e){return Number.isInteger(e)&&e>=0&&e<12},o=function(){function o(e){if(t(this,o),!(e&&e instanceof Date))throw new TypeError("参数应是一个Date实例对象");return this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate(),this}return e(o,[{key:"backOneMonth",value:function(){return this.month-=1,this.month<0&&(this.year-=1,this.month=11),this}},{key:"aheadOneMonth",value:function(){return this.month+=1,this.month>11&&(this.year+=1,this.month=0),this}},{key:"toDate",value:function(){return new Date(this.year,this.month,this.day)}},{key:"reset",value:function(e){var t=o.of(e);if(!t)throw new TypeError("哪里出现了问题");return this.year=t.year,this.month=t.month,this.day=t.day,this}}],[{key:"of",value:function(e){return new o(e)}},{key:"getMonths",value:function(e){if(!n(e))throw new TypeError("参数应该是一个数字，有效值1901-5000");var t=r;return e%4==0&&(t[1]=29),t}},{key:"getDaysCount",value:function(e,t){if(!n(e))throw new TypeError("参数应该是一个数字，有效值1901-5000");if(!a(t))throw new TypeError("参数应该是一个数字，有效值0-11");return o.getMonths(e)[t]}},{key:"getWeekArray",value:function(e){if(!(e instanceof Date))throw new TypeError("参数应该是一个Date实例对象");for(var t=[],r=o.getDaysCount(e.getFullYear(),e.getMonth()),n=new Date(e.getFullYear(),e.getMonth()-1,1),a=o.getDaysCount(n.getFullYear(),n.getMonth()),u=e.getDate()-e.getDay(),i=0;i<7;i+=1){var h=u+i;h>r?h-=r:h<1&&(h+=a),t.push(h)}return t}},{key:"getMonthArray",value:function(e){if(!(e&&e instanceof Date))throw new TypeError("参数应该是一个Date实例对象");var t=[],r=o.getDaysCount(e.getFullYear(),e.getMonth()),n=o.getWeekArray(e);t.push(n);for(var a=0;a<5;a+=1){var u=e.getDate()-e.getDay()-1-7*a;if(u>0){var i=new Date(e.getFullYear(),e.getMonth(),u),h=o.getWeekArray(i);t.unshift(h)}var s=e.getDate()-e.getDay()+7+7*a;if(s<=r){var y=new Date(e.getFullYear(),e.getMonth(),s),f=o.getWeekArray(y);t.push(f)}}return t}}]),o}();exports.default=o;
},{}],"9ksW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("./dom"),r=a(t),n=require("./customDate"),o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=0,d=0,f={x:0,y:0},l=function(e){if(!r.default.isElement(e))throw new TypeError("参数应是HTML Element");for(var t=!1,n=0,o=r.default.of(e).parents(),a=[],i=o.length-1;i>-1;i-=1){var u=o[i];if("fixed"===r.default.of(u).css("position")){t=!0,a=o.slice(0,i);break}}t&&a.forEach(function(e){n+=e.scrollLeft});for(var d=e,f=0;r.default.isElement(d)&&"body"!==d.tagName&&"html"!==d.tagName;)f+=d.offsetLeft,d=d.offsetParent;return f-n},s=function(e){if(!r.default.isElement(e))throw new TypeError("参数应是HTML Element");for(var t=!1,n=0,o=r.default.of(e).parents(),a=[],i=o.length-1;i>-1;i-=1){var u=o[i];if("fixed"===r.default.of(u).css("position")){t=!0,a=o.slice(0,i);break}}t&&a.forEach(function(e){n+=e.scrollTop});for(var d=e,f=0;r.default.isElement(d)&&"body"!==d.tagName&&"html"!==d.tagName;)f+=d.offsetTop,d=d.offsetParent;return f-n},c=function(e,t){if(!r.default.isElement(e)||!r.default.isElement(t))throw new TypeError("参数应是HTML Element");var n=f.y,o=n-window.scrollY,a=window.scrollY+window.innerHeight-(n+t.offsetHeight)>e.offsetHeight,i=o>e.offsetHeight;return!a&&i?n-e.offsetHeight:n+t.offsetHeight},h=function(e,t){if(!r.default.isElement(e)||!r.default.isElement(t))throw new TypeError("参数应是HTML Element");var n=f.x;return document.body.offsetWidth-t.offsetWidth-n+t.offsetWidth>e.offsetWidth+20?n:n+t.offsetWidth-e.offsetWidth},y=function(){if(d)return!1;d+=1;var e=function(){var e=window.innerHeight;document.body.style.minHeight=e+"px"};return window.addEventListener("resize",function(){e()}),e(),d},p=function(){var e=r.default.of("<tr>"),t=r.default.of("<th>").addClass("prev-month").text("◂"),n=r.default.of("<th>"),o=r.default.of("<th>").addClass("next-month").text("▸"),a=r.default.of("<th>").addClass("month").attr("colspan",2),i=r.default.of("<input>").addClass("year").attr("type","number");return[t,n,r.default.of("<th>").append(i).attr("colspan",2),a,o].forEach(function(t){e.append(t)}),e},m=function(){var e=r.default.of("<tr>").addClass("week-sign");return[r.default.of("<th>").text("日").addClass("text-red"),r.default.of("<th>").text("一"),r.default.of("<th>").text("二"),r.default.of("<th>").text("三"),r.default.of("<th>").text("四"),r.default.of("<th>").text("五"),r.default.of("<th>").text("六").addClass("text-red")].forEach(function(t){e.append(t)}),e},v=function(){for(var e=r.default.of("<tr>").addClass("week"),t=0;t<7;t+=1){var n=r.default.of("<td>");e.append(n)}return e},b=function(){for(var e=r.default.of("<div>").addClass("datepicker hide"),t=r.default.of("<table>").attr("border",1).attr("cellspacing",2),n=p(),o=m(),a=r.default.of("<thead>").append(n).append(o),i=r.default.of("<tbody>"),u=0;u<6;u+=1){var d=v();i.append(d)}return t.append(a).append(i),e.append(t),e.dom},w=function(){function t(e){if(i(this,t),!e||1!==e.nodeType||"text"!==e.getAttribute("type"))throw new TypeError("参数应是一个input[type=text]");var r=new Date;return this.input=e,this.body=b(),this.current=o.default.of(r),document.body.appendChild(this.body),this.fillDayPickerByDate(this.current.toDate()),this.bindEvent(),this}return e(t,[{key:"fillDayPickerByDate",value:function(e){var t=this;if(!(e&&e instanceof Date))throw new TypeError("参数应该是一个Date实例对象");this.current=o.default.of(e);var r=o.default.getMonthArray(this.current.toDate()),n=this.body.querySelector("tbody").querySelectorAll("tr");if(this.body.querySelector(".year").value=e.getFullYear(),this.body.querySelector(".month").innerText=e.getMonth()+1,5===r.length){var a=new Date(e.getFullYear(),e.getMonth()+1,6),i=o.default.getWeekArray(a);r.push(i)}return r.forEach(function(e,o){var a=n[o].querySelectorAll("td");e.forEach(function(e,n){var i=a[n];if(i.innerText=e,0===o?Number(e)>7?i.classList.add("prev-month"):i.classList.remove("prev-month"):o>=r.length-2&&(Number(e)<15?i.classList.add("next-month"):i.classList.remove("next-month")),t.current.day===e&&!i.classList.contains("prev-month")&&!i.classList.contains("next-month")){var u=t.body.querySelector(".current-picker");u&&u.classList.remove(".current-picker"),i.classList.add(".current-picker")}})}),this}},{key:"fillDayPickerByCurrent",value:function(){var e=this.current.toDate();return this.fillDayPickerByDate(e),this}},{key:"clearPicked",value:function(){return this.body.querySelectorAll(".current-picker").forEach(function(e){e.classList.remove(".current-picker")}),this}},{key:"bindMonthArrow",value:function(){var e=this,t=this.body.querySelector(".prev-month"),r=this.body.querySelector(".next-month");return t.addEventListener("click",function(){e.current.backOneMonth(),e.fillDayPickerByCurrent()}),r.addEventListener("click",function(){e.current.aheadOneMonth(),e.fillDayPickerByCurrent()}),this}},{key:"bindPickAction",value:function(){var e=this,t=this.body.querySelector("thead"),r=this.body.querySelector("tbody").querySelectorAll("td"),n=t.querySelector(".year"),o=t.querySelector(".month"),a=this.input;return r.forEach(function(t){t.addEventListener("click",function(){var r={year:Number(n.value),month:Number(o.innerText)-1,day:Number(t.innerText)};t.classList.contains("prev-month")?(r.month-=1,r.month<0&&(r.year-=1,r.month=11)):t.classList.contains("next-month")&&(r.month+=1,r.month>11&&(r.year+=1,r.month=0));var i=new Date(r.year,r.month,r.day);e.current.reset(i),e.clearPicked(),a.value=e.current.year+"-"+(e.current.month+1)+"-"+e.current.day,t.classList.add("current-picker"),e.body.classList.add("hide")})}),this}},{key:"bindTurnOn",value:function(){var e=this;return this.input.addEventListener("mousedown",function(t){f.x=l(e.input),f.y=s(e.input),t.stopPropagation(),r.default.of(e.body).removeClass("arrow-top arrow-bottom reel hide");var n=document.querySelectorAll(".datepicker"),o=f.y,a=f.x,i=c(e.body,e.input),u=h(e.body,e.input),d=i<o?"arrow-bottom":"arrow-top",y=u<a?"pseudo-right":"";n.forEach(function(t){e.body.isSameNode(t)||t.classList.add("hide")}),e.fillDayPickerByCurrent(),r.default.of(e.body).addClass("reel "+d+" "+y),e.body.style.top=i+"px",e.body.style.left=u+"px"}),this}},{key:"bindTurnOff",value:function(){return!u&&(u+=1,document.body.addEventListener("mousedown",function(e){var t=e.target;document.querySelectorAll(".datepicker").forEach(function(e){r.default.of(t).hasParent(e)||e.classList.add("hide")})}),this)}},{key:"bindYearInput",value:function(){var e=this,t=this.body.querySelector(".year"),r=this.body.querySelector(".month");t.addEventListener("input",function(){var n=Number(t.value);if(!Number.isSafeInteger(n)||n<1900||n>5e3)return!1;var o={year:n,month:Number(r.innerText)-1,day:1},a=new Date(o.year,o.month,o.day);return e.fillDayPickerByDate(a),e})}},{key:"bindEvent",value:function(){y(),this.bindMonthArrow(),this.bindPickAction(),this.bindTurnOn(),this.bindTurnOff(),this.bindYearInput()}}]),t}(),k=function(e){return new w(e)};window.datepicker=k,exports.default=k;
},{"./dom":"fRxd","./customDate":"UXHO"}]},{},["9ksW"], null)
//# sourceMappingURL=/datepicker.map